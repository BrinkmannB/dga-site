<!DOCTYPE html>
<html lang="nl">
<head>
  <!-- COMPLETE HEAD -->
  <title>Kennisbank – Dutch Governance Advisory</title>
  <meta name="description" content="Kennisbank met artikelen over AI Governance, de EU AI Act, uitlegbaarheid, risicobeheer en publieke waarden.">
</head>

<body>

<header class="navbar">
  <div class="container">
    <div class="logo">Bas Brinkmann</div>
    <nav>
      <a href="/index.html">Home</a>
      <a href="/diensten.html">Diensten</a>
      <a href="/quickscan.html">Quick Scan</a>
      <a href="/ai-act-calculator.html">AI Act Calculator</a>
      <a href="/over-bas.html">Over Bas</a>
      <a href="/contact.html" class="btn-primary">Contact</a>
    </nav>
  </div>
</header>

<section class="page-header">
  <h1>Kennisbank</h1>
  <p>Artikelen over AI Governance, publieke waarden en de EU AI Act – volledig automatisch geladen.</p>
</section>

<section class="container">

  <!-- Zoekveld -->
  <input id="searchInput" placeholder="Zoek in artikelen..." style="width:100%;margin-bottom:20px;padding:10px;border-radius:8px;border:1px solid #ccc;">

  <!-- Artikellijst (wordt gevuld via JS) -->
  <div id="articleList"></div>

</section>

<footer>
  <p>© 2025 Bas Brinkmann – Dutch Governance Advisory</p>
</footer>

<!-- Loader script -->
<script>
async function loadArticles() {
  const response = await fetch('/data/articles.json');
  const articles = await response.json();

  const list = document.getElementById('articleList');
  list.innerHTML = ''; // Clean slate

  articles.forEach(article => {
    const card = document.createElement('div');
    card.className = 'article-card';

    card.innerHTML = `
      <a href="${article.file}">
        <h2>${article.title}</h2>
      </a>
      <p>${article.description}</p>
    `;

    list.appendChild(card);
  });

  return articles;
}

// Zoekfunctie toevoegen
function enableSearch(articles) {
  const input = document.getElementById('searchInput');

  input.addEventListener('input', (e) => {
    const value = e.target.value.toLowerCase();
    const list = document.getElementById('articleList');
    list.innerHTML = '';

    const filtered = articles.filter(a =>
      a.title.toLowerCase().includes(value) ||
      a.description.toLowerCase().includes(value) ||
      a.slug.toLowerCase().includes(value)
    );

    filtered.forEach(article => {
      const card = document.createElement('div');
      card.className = 'article-card';

      card.innerHTML = `
        <a href="${article.file}">
          <h2>${article.title}</h2>
        </a>
        <p>${article.description}</p>
      `;

      list.appendChild(card);
    });
  });
}

// Initialiseren
loadArticles().then(enableSearch);
</script>

</body>
</html>
